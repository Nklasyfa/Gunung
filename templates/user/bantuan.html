{% extends "base.html" %}

{% block title %}Pusat Bantuan{% endblock %}

{% block content_area_class %}content-area-bg{% endblock %}

{% block content %}

<div class="dashboard-container">

    <div class="dashboard-controls" style="display:flex; gap:10px; margin-bottom:20px; flex-wrap:wrap; justify-content:flex-end;">

        <button id="darkModeToggle" class="btn-dashboard btn-mode">
            <i class="fas fa-moon"></i> Dark Mode
        </button>

        <div class="dropdown">
            <button class="btn-dashboard btn-lang" id="langBtnDisplay">
                ðŸ‡®ðŸ‡© Bahasa Indonesia <i class="fas fa-caret-down"></i>
            </button>
            <div class="dropdown-content">
                <a href="#" onclick="setLanguage('id'); return false;">ðŸ‡®ðŸ‡© Bahasa Indonesia</a>
                <a href="#" onclick="setLanguage('en'); return false;">ðŸ‡ºðŸ‡¸ English</a>
            </div>
        </div>

        <button onclick="history.back()" class="btn-dashboard btn-bantuan" style="background-color: #6c757d;">
            <i class="fas fa-arrow-left"></i> <span class="lang-text" data-id="Kembali" data-en="Go Back">Kembali</span>
        </button>
    </div>

    <header style="text-align:center; margin-bottom:30px;">
        <h1 class="page-title lang-text" data-id="Pusat Bantuan Pendaki" data-en="Hikers Help Center">
            Pusat Bantuan Pendaki
        </h1>
        <p class="page-subtitle lang-text" data-id="Butuh bantuan? Temukan solusi atau hubungi admin."
           data-en="Need help? Find solutions or contact admin.">
            Butuh bantuan? Temukan solusi atau hubungi admin.
        </p>
    </header>

    <div class="content-card">

        <section class="help-section">
            <h3><i class="fas fa-info-circle"></i>
                <span class="lang-text" data-id="Panduan & Bantuan" data-en="Guide & Support">Panduan & Bantuan</span>
            </h3>
            <ul>
                <li class="lang-text" data-id="Cara booking tiket gunung" data-en="How to book mountain tickets">Cara booking tiket gunung</li>
                <li class="lang-text" data-id="Masalah cuaca tidak muncul" data-en="Weather data not showing">Masalah cuaca tidak muncul</li>
                <li class="lang-text" data-id="Tombol booking tidak bisa diklik" data-en="Booking button not clickable">Tombol booking tidak bisa diklik</li>
                <li class="lang-text" data-id="Login / Registrasi bermasalah" data-en="Login / Registration issues">Login / Registrasi bermasalah</li>
            </ul>
        </section>

        <hr style="border: 0; border-top: 1px solid rgba(0,0,0,0.1); margin: 20px 0;">

        <section class="help-section">
            <h3><i class="fas fa-question-circle"></i>
                <span class="lang-text" data-id="FAQ (Pertanyaan Umum)" data-en="FAQ (Common Questions)">FAQ (Pertanyaan Umum)</span>
            </h3>

            <div class="faq-item">
                <p><strong>Q: <span class="lang-text" data-id="Bagaimana jika tiket habis?" data-en="What if tickets are sold out?">Bagaimana jika tiket habis?</span></strong></p>
                <p>A: <span class="lang-text" data-id="Coba lagi besok, atau pilih jalur lain jika tersedia." data-en="Try again tomorrow, or choose another route if available.">Coba lagi besok, atau pilih jalur lain jika tersedia.</span></p>
            </div>

            <div class="faq-item">
                <p><strong>Q: <span class="lang-text" data-id="Kenapa cuaca tidak muncul?" data-en="Why is weather not showing?">Kenapa cuaca tidak muncul?</span></strong></p>
                <p>A: <span class="lang-text" data-id="Gunung mungkin belum memiliki koordinat di database." data-en="Mountain may not have coordinates in database yet.">Gunung mungkin belum memiliki koordinat di database.</span></p>
            </div>
        </section>

        <hr style="border: 0; border-top: 1px solid rgba(0,0,0,0.1); margin: 20px 0;">

        <section class="help-section">
            <h3><i class="fas fa-headset"></i>
                <span class="lang-text" data-id="Hubungi Admin" data-en="Contact Admin">Hubungi Admin</span>
            </h3>
            <p class="lang-text" style="margin-bottom:15px;"
               data-id="Jika masalah masih terjadi, silakan hubungi kami lewat:"
               data-en="If the issue persists, please contact us via:">
                Jika masalah masih terjadi, silakan hubungi kami lewat:
            </p>

            <div style="display:flex; gap:15px; flex-wrap:wrap;">
                <a href="#" class="btn-dashboard btn-contact whatsapp"><i class="fab fa-whatsapp"></i> WhatsApp</a>
                <a href="#" class="btn-dashboard btn-contact email"><i class="fas fa-envelope"></i> Email</a>
                <a href="#" class="btn-dashboard btn-contact chat"><i class="fas fa-comments"></i> Live Chat</a>
            </div>
        </section>

    </div>
</div>

<script>
    // --- 1. DARK MODE (Sinkron dengan Dashboard) ---
    const toggleBtn = document.getElementById('darkModeToggle');
    const body = document.body;

    // Cek Memory
    if (localStorage.getItem('darkMode') === 'true') {
        body.classList.add('dark-mode');
        if(toggleBtn) toggleBtn.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
    }

    // Event Klik
    if (toggleBtn) {
        toggleBtn.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDarkMode = body.classList.contains('dark-mode');
            localStorage.setItem('darkMode', isDarkMode);

            if (isDarkMode) {
                toggleBtn.innerHTML = '<i class="fas fa-sun"></i> Light Mode';
            } else {
                toggleBtn.innerHTML = '<i class="fas fa-moon"></i> Dark Mode';
            }
        });
    }

    // --- 2. BAHASA (Sederhana via Javascript) ---
    function setLanguage(lang) {
        localStorage.setItem('lang', lang);
        
        // Ubah Teks Tombol Dropdown
        const btnDisplay = document.getElementById('langBtnDisplay');
        if(lang === 'en') {
            btnDisplay.innerHTML = 'ðŸ‡ºðŸ‡¸ English <i class="fas fa-caret-down"></i>';
        } else {
            btnDisplay.innerHTML = 'ðŸ‡®ðŸ‡© Bahasa Indonesia <i class="fas fa-caret-down"></i>';
        }

        // Ubah Semua Teks di Halaman
        document.querySelectorAll(".lang-text").forEach(el => {
            el.textContent = el.getAttribute(`data-${lang}`);
        });
    }

    // Load Bahasa saat start
    const savedLang = localStorage.getItem('lang') || 'id';
    setLanguage(savedLang);

</script>

<style>
/* =======================================================
   SETTING BACKGROUND (SAMA DENGAN DASHBOARD)
   ======================================================= */
body {
    /* Menggunakan url_for agar path folder 100% benar */
    background-image: url("{{ url_for('static', filename='images/kunung.jpg') }}") !important;
    background-size: cover;
    background-position: center;
    background-attachment: fixed;
    background-repeat: no-repeat;
    transition: background-image 0.5s ease-in-out;
    background-color: #ECE9F7;
    font-family: 'Montserrat', sans-serif;
}

/* Background DARK MODE */
body.dark-mode {
    background-image: url("{{ url_for('static', filename='images/ganung.jpg') }}") !important;
    background-color: #121212 !important;
}

/* TRANSPARANSI CONTAINER */
.dashboard-container, .main-wrapper, .content-area {
    background: transparent !important;
    padding: 20px;
}

/* =======================================================
   KARTU KONTEN (GLASSMORPHISM)
   ======================================================= */
.content-card {
    background: rgba(255, 255, 255, 0.9); /* Putih Transparan */
    backdrop-filter: blur(10px);
    border-radius: 15px;
    padding: 30px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    max-width: 800px;
    margin: 0 auto; /* Tengah */
    transition: all 0.3s ease;
}

/* Kartu saat Dark Mode */
body.dark-mode .content-card {
    background: rgba(30, 30, 30, 0.85); /* Hitam Transparan */
    color: #e0e0e0;
    border: 1px solid rgba(255,255,255,0.1);
    box-shadow: 0 4px 15px rgba(0,0,0,0.5);
}

/* Judul & Teks */
.page-title {
    color: #333;
    text-shadow: 0 1px 3px rgba(255,255,255,0.5);
    font-weight: 800;
}
.page-subtitle {
    color: #555;
    font-weight: 600;
}

body.dark-mode .page-title {
    color: #fff;
    text-shadow: 0 2px 4px rgba(0,0,0,0.8);
}
body.dark-mode .page-subtitle { color: #ccc; }

/* List & Section Styles */
.help-section h3 {
    margin-bottom: 15px;
    color: #7A39E0; /* Warna Ungu Utama */
}
body.dark-mode .help-section h3 { color: #A27EDD; }

ul li { margin-bottom: 8px; font-weight: 500; }
.faq-item { margin-bottom: 15px; background: rgba(0,0,0,0.03); padding: 10px; border-radius: 8px; }
body.dark-mode .faq-item { background: rgba(255,255,255,0.05); }

/* =======================================================
   TOMBOL & DROPDOWN (SAMA DENGAN DASHBOARD)
   ======================================================= */
.btn-dashboard {
    padding: 8px 16px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-weight: 600;
    display: flex;
    align-items: center;
    gap: 6px;
    transition: all 0.2s ease;
    color: white;
    text-decoration: none;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

/* Warna Tombol */
.btn-mode { background-color: #6f42c1; }
.btn-mode:hover { background-color: #5936a0; }
.btn-lang { background-color: #007bff; }
.btn-lang:hover { background-color: #0056b3; }

/* Warna Tombol Kontak */
.whatsapp { background-color: #25D366; }
.email { background-color: #EA4335; }
.chat { background-color: #0084FF; }

/* Styles tombol Dark Mode */
body.dark-mode .btn-mode { background-color: #FFD700; color: #121212; }
body.dark-mode .btn-dashboard:hover { transform: translateY(-2px); }

/* Dropdown */
.dropdown { position: relative; display: inline-block; }
.dropdown-content {
    display: none;
    position: absolute;
    right: 0;
    background-color: #fff;
    min-width: 160px;
    border-radius: 8px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.15);
    z-index: 10;
    overflow: hidden;
}
.dropdown-content a {
    color: #333;
    padding: 10px 14px;
    text-decoration: none;
    display: block;
}
.dropdown-content a:hover { background-color: #f1f1f1; }
.dropdown:hover .dropdown-content { display: block; }

/* Dropdown Dark Mode */
body.dark-mode .dropdown-content { background-color: #2a2a2a; }
body.dark-mode .dropdown-content a { color: #e0e0e0; }
body.dark-mode .dropdown-content a:hover { background-color: #3a3a3a; }

</style>

{% endblock %}